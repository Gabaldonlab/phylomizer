<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Phylomizer by Gabaldonlab</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Phylomizer</h1>
          <h2>PhylomeDB automated pipeline for reconstructing high-quality phylogenetic tree</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/Gabaldonlab/phylomizer/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/Gabaldonlab/phylomizer/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/Gabaldonlab/phylomizer" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>
<a id="phylomizer" class="anchor" href="#phylomizer" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Phylomizer</h1>

<p><strong>Phylomizer</strong> is an automated phylogenetics pipeline which aims to reproduce the three main step follow by traditional phylogeneticists. These steps, as shown in the image, are 1) Homology search, 2) Multiple Sequence Alignment Reconstruction, and 3) Phylogenetic Tree reconstruction.</p>

<p><strong>Phylomizer</strong> can be used to reconstruct a single gene tree. However, it aims to assist on the reconstruction of large collection of phylogenies. In fact, <strong>Phylomizer</strong> has been used in <a href="http://phylomedb.org">phylomedb.org</a> to generate more than 5.6 million phylogenetic trees, as January, 2016.</p>

<p><img src="https://github.com/Gabaldonlab/phylomizer/blob/master/docs/pipeline.2016.png" width="400"></p>

<h2>
<a id="using-phylomizer-from-the-command-line-in-unix-environments" class="anchor" href="#using-phylomizer-from-the-command-line-in-unix-environments" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Using <strong>Phylomizer</strong> from the command-line in UNIX environments.</h2>

<p>There are two scripts included in the <strong>Phylomizer</strong> package. Please be ware that <strong>by default</strong> the multiple sequence alignment used for phylogenetic tree reconstruction is generated as follow: 1) three different alignment programs are used to generate alignments in forward and reverse sequences orientation; 2) these 6 alignments are combined into a consensus one using M-Coffee; 3) final alignment is generated by trimAl after removing those columns from the consensus alignments with a low consistency score e.g. no column has been seed in any of the 6 alignment used to generate the consensus one.</p>

<p><strong>phylomizer.py</strong> allows the user to perform the whole phylogenetic pipeline, specific steps e.g. homology searches, or specific combinations e.g. homology searches + multiple sequence alignment reconstruction </p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c">## Just reconstructing the best fitting evoluionary model for a ML tree.</span>

$<span class="pl-k">&gt;</span> ./source/phylomizer.py -i input_msa_alignment --steps trees -c config_file -o output_folder</pre></div>

<p>Here we have access to all available options which are shared (most of them) by both scripts.</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c">## Check input options for phylomizer.py - assuming we are at the ROOT directory of the package</span>

$<span class="pl-k">&gt;</span> ./source/phylomizer.py -h

optional arguments:
  -h, --help            show this <span class="pl-c1">help</span> message and <span class="pl-c1">exit</span>
  -i INFILE, --in INFILE
                        Input file containing the query sequence/s
  --min_seqs MINSEQS    Set the minimum sequences number to reconstruct an alignment/tree.
                        This parameter overwrites whatever is <span class="pl-c1">set</span> on the config file.
  --max_hits MAXHITS    Set the maximum accepted homology hits after filtering <span class="pl-k">for</span> e-value/coverage.
                        This parameter overwrites whatever is <span class="pl-c1">set</span> on the config file.
  --steps [{all,homology,alignments,trees} [{all,homology,alignments,trees} ...]]
                        Set which step/s should be performed by the script
  <span class="pl-k">-d</span> DBFILE, --db DBFILE
                        Input file containing the target sequence database
  --cds CDSFILE         Input file containing CDS corresponding to input protein seqs
  <span class="pl-k">-c</span> CONFIGFILE, --config CONFIGFILE
                        Input configuration file
  <span class="pl-k">-o</span> OUTFOLDER, --out OUTFOLDER
                        Output folder where all generated files will be dumped
  <span class="pl-k">-p</span> PREFIX, --prefix PREFIX
                        Set the prefix <span class="pl-k">for</span> all output files generated by the pipeline
  <span class="pl-k">-r</span>, --replace         Over-write any previously generated file
  --version             show program<span class="pl-cce">\'</span>s version number and <span class="pl-c1">exit</span>
  -v {0,1,2,logfile,none,stderr}, --verbose {0,1,2,logfile,none,stderr}
                        Set how information should be dumped. It could be used levels or tags
                        It overwrites whatever is <span class="pl-c1">set</span> on the configuration file.</pre></div>

<p><strong>pipeline.py</strong> aims to perform the three main steps implemented in the pipeline following the configuration set on the configuration file.</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c">## Given a single input sequence, retrieve its homologous sequences from a predefined DB using e.g. BLAST, reconstruct the</span>
<span class="pl-c">## alignment for this set of sequences, and then the best fitting ML tree.</span>

$<span class="pl-k">&gt;</span> ./source/pipeline.py -i input_single_sequence_file -d input_DB_file -c config_file -o output_folder</pre></div>

<h2>
<a id="configuration-file" class="anchor" href="#configuration-file" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuration File.</h2>

<p><a href="config/config.pipeline">Configuration File example</a>. This file includes all currently supported programs and the standard parameters used with all of them. Additional parameters and execution modes e.g. MPI call, can be set editing this file. </p>

<p><a href="config/PhylomeDB%20Configuration%20-%20KMM">PhylomeDB Phylomizer Configuration file KMM</a>. It uses 3 different aligner (KAlign, Muscle, and Mafft) to generate a consensus alignment of <strong>3 aligners x 2 sequences orientation</strong> using M-Coffee. Later on this consensus alignment is processed by trimAl to remove low consistency columns. The use of KAlign instead of DiAlign-TX considerably speeds up the whole alignment generation process with a sligthly degratation on performance. Therefore, this configuration is the <strong>default</strong> one in PhylomeDB, as January 2016.</p>

<p><a href="config/PhylomeDB%20Configuration%20-%20KMM">PhylomeDB Phylomizer Configuration file DMM</a>. It uses 3 different aligner (DiAlign-TX, Muscle, and Mafft) to generate a consensus alignment of <strong>3 aligners x 2 sequences orientation</strong> using M-Coffee. Later on this consensus alignment is processed by trimAl to remove low consistency columns. </p>

<h2>
<a id="citation" class="anchor" href="#citation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Citation.</h2>
        </section>

        <footer>
          Phylomizer is maintained by <a href="https://github.com/Gabaldonlab">Gabaldonlab</a><br>
          This page was generated by <a href="https://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>
